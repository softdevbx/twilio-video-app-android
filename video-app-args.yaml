# Any tests that are network intensive are run on virtual devices because they do not run
# on the same congested network as physical devices. Running select tests on virtual devices
# ensures a more stable CI test execution and prevents test runs from exceeding the
# Firebase Test Lab physical device 30 minute time limit.
integration-media-tests:
    timeout: 30m
    type: instrumentation
    app: library/ftl/library-dummy-test-app.apk
    test: library/build/outputs/apk/androidTest/debug/library-debug-androidTest.apk
    device:
        - {model: m0, version: 18}
        - {model: g3, version: 19}
        - {model: flo, version: 21}
        - {model: A0001, version: 22}
        - {model: hero2lte, version: 23}
        - {model: lucye, version: 24}
        - {model: sailfish, version: 25}
        - {model: walleye, version: 26}
        - {model: walleye, version: 27}
        - {model: walleye, version: 28}
    test-targets:
        - "annotation com.twilio.video.testcategories.MediaTest"

integration-network-tests:
    timeout: 60m
    type: instrumentation
    app: library/ftl/library-dummy-test-app.apk
    test: library/build/outputs/apk/androidTest/debug/library-debug-androidTest.apk
    device:
        - {model: Nexus5, version: 21}
        - {model: Pixel2_Q, version: Q}
    test-targets:
        - "annotation com.twilio.video.testcategories.NetworkTest"

integration-participant-tests:
    timeout: 60m
    type: instrumentation
    app: library/ftl/library-dummy-test-app.apk
    test: library/build/outputs/apk/androidTest/debug/library-debug-androidTest.apk
    device:
        - {model: Nexus5, version: 21}
        - {model: Pixel2_Q, version: Q}
    test-targets:
        - "annotation com.twilio.video.testcategories.ParticipantTest"

integration-room-tests:
    timeout: 30m
    type: instrumentation
    app: library/ftl/library-dummy-test-app.apk
    test: library/build/outputs/apk/androidTest/debug/library-debug-androidTest.apk
    device:
        - {model: Nexus5, version: 21}
        - {model: Pixel2_Q, version: Q}
    test-targets:
        - "annotation com.twilio.video.testcategories.RoomTest"

integration-recording-tests:
    timeout: 30m
    type: instrumentation
    app: library/ftl/library-dummy-test-app.apk
    test: library/build/outputs/apk/androidTest/debug/library-debug-androidTest.apk
    device:
        - {model: Nexus5, version: 21}
        - {model: Pixel2_Q, version: Q}
    test-targets:
        - "annotation com.twilio.video.testcategories.RecordingTest"

integration-stats-tests:
    timeout: 30m
    type: instrumentation
    app: library/ftl/library-dummy-test-app.apk
    test: library/build/outputs/apk/androidTest/debug/library-debug-androidTest.apk
    device:
        - {model: Nexus5, version: 21}
        - {model: Pixel2_Q, version: Q}
    test-targets:
        - "annotation com.twilio.video.testcategories.StatsTest"

integration-track-tests:
    timeout: 30m
    type: instrumentation
    app: library/ftl/library-dummy-test-app.apk
    test: library/build/outputs/apk/androidTest/debug/library-debug-androidTest.apk
    device:
        - {model: m0, version: 18}
        - {model: g3, version: 19}
        - {model: flo, version: 21}
        - {model: A0001, version: 22}
        - {model: hero2lte, version: 23}
        - {model: lucye, version: 24}
        - {model: sailfish, version: 25}
        - {model: walleye, version: 26}
        - {model: walleye, version: 27}
        - {model: walleye, version: 28}
    test-targets:
        - "annotation com.twilio.video.testcategories.TrackTest"

integration-codec-tests:
    timeout: 60m
    type: instrumentation
    app: library/ftl/library-dummy-test-app.apk
    test: library/build/outputs/apk/androidTest/debug/library-debug-androidTest.apk
    device:
        - {model: Nexus5, version: 21}
        - {model: Pixel2_Q, version: Q}
    test-targets:
        - "annotation com.twilio.video.testcategories.CodecTest"

integration-capturer-tests:
    timeout: 30m
    type: instrumentation
    app: library/ftl/library-dummy-test-app.apk
    test: library/build/outputs/apk/androidTest/debug/library-debug-androidTest.apk
    device:
        - {model: A0001, version: 22}
        - {model: G8142, version: 25}
        - {model: G8441, version: 26}
        - {model: H8324, version: 26}
        - {model: HWMHA, version: 24}
        - {model: OnePlus3T, version: 26}
        - {model: OnePlus6T, version: 28}
        - {model: a5y17lte, version: 24}
        - {model: albus, version: 26}
        - {model: aljeter_n, version: 26}
        - {model: athene , version: 23}
        - {model: athene_f, version: 23}
        - {model: blueline, version: 28}
        - {model: blueline, version: Q-beta-3}
        - {model: cheryl, version: 25}
        - {model: crownqlteue, version: 27}
        - {model: flo, version: 19}
        - {model: flo, version: 21}
        - {model: g3, version: 19}
        - {model: hero2lte, version: 23}
        - {model: lucye, version: 24}
        - {model: hlte, version: 19}
        - {model: htc_m8, version: 19}
        - {model: htc_ocndugl, version: 26}
        - {model: hwALE-H, version: 21}
        - {model: j1acevelte, version: 22}
        - {model: j7xelte, version: 23}
        - {model: james, version: 26}
        - {model: lt02wifi, version: 19}
        - {model: lucye, version: 24}
        - {model: lv0, version: 23}
        - {model: m0, version:  18}
        - {model: mata, version: 25}
        - {model: mlv1, version: 23}
        - {model: potter, version: 24}
        - {model: sailfish, version: 25}
        - {model: sailfish, version: 26}
        - {model: sailfish, version: 27}
        - {model: sailfish, version: 28}
        - {model: shamu, version: 21}
        - {model: shamu, version: 22}
        - {model: shamu, version: 23}
        - {model: star2qlteue, version: 26}
        - {model: starqlteue, version: 26}
        - {model: taimen, version: 26}
        - {model: taimen, version: 27}
        - {model: victara, version: 19}
        - {model: walleye, version: 26}
        - {model: walleye, version: 27}
        - {model: walleye, version: 28}
        - {model: zeroflte, version: 23}
    test-targets:
        - "annotation com.twilio.video.testcategories.CapturerTest"
